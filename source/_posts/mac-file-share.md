title: mac与windows间文件共享和账户设置
date: 2014-10-31 20:03:01
tags:
- mac
- 文件共享
- 共享账户
categories: mac

---

##mac与windows间的文件共享设置

###创建一个共享账户

也可以使用你平时用的账户来进行共享，但这样可能不太安全，所以可以创建一个账户，专门用来进行文件共享，步骤如下：
<!--more-->

首先在屏幕左上角处，点击，然后打开“系统偏好设置”：
![系统偏好设置](/img/1031/1.png)
打开“用户和群组”，并点击左下角的🔒，输入你的密码：
![用户和群组](/img/1031/2.png)
然后点击左下角的加号，添加一个用户，新账户的类型选择“仅限共享”：
![添加一个用户](/img/1031/3.png)
	
> 
一定要记住密码啊擦... 

###文件共享设置

然后回到系统偏好设置，进入“文件共享”选项卡，在左侧点击“文件共享”前的复选框以打开该项：
![文件共享](/img/1031/4.png)
随后在右侧点击选项，勾选“使用SMB来共享文件和文件夹”和“使用AFP来共享文件和文件夹”，并在刚刚新建的用户前打钩，会提示输入密码，注意，是twining的密码，而不是你平时所用的账户的密码，点击完成：
![选项](/img/1031/5.png)
![输入新建账户的密码](/img/1031/6.png)
然后点击文件选项卡下方右侧“用户”下的加号，选择刚刚新建的账户：
![添加账户](/img/1031/7.png)
如果你只是从mac上读东西，这些就够了，但如果你要把windows上的东西拷到mac上，还需要为这个账户添加写权限：
![添加写权限](/img/1031/8.png)

###windows上的操作

使用`Winkey+R`,打开运行窗口，然后输入“\\\\你mac的IP”：
![输入IP](/img/1031/9.png)
然后就会提示输入用户名和密码了，输入你新建的用户名和密码，就能够使用了。

###注意

- 千万不要忘记密码啊擦
- 用完了就把文件共享关了吧... 
- 不要看什么`smb`和`afp`协议，更不要试图在chrome上输入这个链接，诶，简直浪费时间，直接当成ftp，在运行里像添加打印机一样就行了
- 从windows上复制过来的东西，拥有者应该是你新建的那个账户，权限一般是600，如果是图片，看都看不了，在命令行里用以下命令修改一下就行了:

        sudo chown "你的用户名" "文件名"
    
- 共享目录一般是你根目录下的Public文件夹，也可以通过共享面板下面左侧的“共享文件夹”下面的加号来自行添加
- 千万不要忘记密码啊擦

> 
一定是莫非定律在作怪...

##下面介绍一下如果你把这个新建的账户的密码给忘了怎么办...

###首先先把密码忘记了... 

这个偶尔用一次，我通常在笔记本和台式机之间传东西，要么就用scp，要么就传到服务器上再弄下来，很少共享什么的... 一万年用一次，所以之前就随便建了个号，用完了就放在那了。
今天我又突然想用，突然发现密码忘了... 
我就想，那我解除用这个账号做共享再删了吧，所以我就在文件共享那个选项里想把这个账号给解除了，但突然发现，解除的时候需要输入这个账户的密码...尼玛... 
我就想，那我直接把这个账户给删了吧... 但我打开用户账户选项卡的时候我惊喜的发现，这个账户因为是专门用来共享的，所以没有列在里面... 尼玛... 

###删除这个账户

我查了很久，终于在Apple的官方论坛上找到了[答案](https://discussions.apple.com/message/25389161)。
有人说，反正安全问题可以忽略，那个账户就放在那呗，又不碍事。
但我用那个论坛上提出问题的大哥的话来回答：
> 
这个账户在“用户账户”里找不着，只有在文件共享这才能看见，我咋能把它删了啊？主要是我现在不用它了，但它就在这，想整也整不没，搞得我好烦啊... 

双子座大男孩还有点小强迫症呢嗯哼~(@^_^@)~

首先还是打开“用户账户”面板，解锁，然后点击登录选项，点击网“网络账户服务器”后的“加入”，然后点击“打开目录实用工具”：
![网络账户服务器](/img/1031/10.png)
点击左下角的🔒以解锁（**重要，否则无法删除**），选择“目录编辑器”
![目录实用工具](/img/1031/11.png)
在目录编辑器左侧，找到你的账户名，然后点击下面的减号，选择“删除”
![目录编辑器](/img/1031/12.png)

噗... 


###注意

- 不用试图在/Users下面找到这个账户的根目录，因为这个账户就是用来文件共享的，没有创建根目录，上面的目录编辑器中你可以看到，这个账户的“NFSHomeDirectory”是“/dev/null”
- 然后别手抖删错账户... 
- 当然最好你别把密码忘了... 

擦，这一晚上又啥都没干...

---

噗... 
 





    
 







